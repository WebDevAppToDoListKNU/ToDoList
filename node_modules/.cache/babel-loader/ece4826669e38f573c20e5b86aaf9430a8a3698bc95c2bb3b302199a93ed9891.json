{"ast":null,"code":"import axios from 'axios';\nconst API_KEY = process.env.OPENAPI_KEY;\nconsole.log(API_KEY);\nconst chat = async (prompt, onMessage) => {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${API_KEY}`\n  };\n  const messages = [{\n    role: 'user',\n    content: prompt\n  }];\n  console.log(\"=>\", prompt);\n  axios.post(\"https://api.openai.com/v1/chat/completions\", {\n    model: \"gpt-3.5-turbo\",\n    temperature: 0.5,\n    messages: messages\n  }, {\n    headers,\n    timeout: 10000\n  }).then(response => {\n    console.log(response.data.choices[0].message.content);\n    onMessage(response.data.choices[0].message.content);\n  }).catch(err => {\n    console.log(err);\n    onMessage(err.message);\n  });\n};\nexport { chat };","map":{"version":3,"names":["axios","API_KEY","process","env","OPENAPI_KEY","console","log","chat","prompt","onMessage","headers","Authorization","messages","role","content","post","model","temperature","timeout","then","response","data","choices","message","catch","err"],"sources":["/Users/ldy/Code/React/웹개발응용/week15/TodoGPT/src/components/openai.js"],"sourcesContent":["import axios from 'axios'\n\nconst API_KEY = process.env.OPENAPI_KEY\nconsole.log(API_KEY)\n\nconst chat = async (prompt, onMessage) => {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${API_KEY}`,\n  }\n  const messages = [{ role: 'user', content: prompt }]\n\n  console.log(\"=>\", prompt)\n  axios.post(\n    \"https://api.openai.com/v1/chat/completions\",\n    {\n      model: \"gpt-3.5-turbo\",\n      temperature: 0.5,\n      messages: messages\n    }, { headers, timeout: 10000 }\n  ).then(response => {\n    console.log(response.data.choices[0].message.content)\n    onMessage(response.data.choices[0].message.content)\n  }).catch(err => { console.log(err); onMessage(err.message) })\n}\n\nexport { chat }"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW;AACvCC,OAAO,CAACC,GAAG,CAACL,OAAO,CAAC;AAEpB,MAAMM,IAAI,GAAG,MAAAA,CAAOC,MAAM,EAAEC,SAAS,KAAK;EACxC,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE,kBAAkB;IAClCC,aAAa,EAAE,UAAUV,OAAO;EAClC,CAAC;EACD,MAAMW,QAAQ,GAAG,CAAC;IAAEC,IAAI,EAAE,MAAM;IAAEC,OAAO,EAAEN;EAAO,CAAC,CAAC;EAEpDH,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEE,MAAM,CAAC;EACzBR,KAAK,CAACe,IAAI,CACR,4CAA4C,EAC5C;IACEC,KAAK,EAAE,eAAe;IACtBC,WAAW,EAAE,GAAG;IAChBL,QAAQ,EAAEA;EACZ,CAAC,EAAE;IAAEF,OAAO;IAAEQ,OAAO,EAAE;EAAM,CAC/B,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;IACjBf,OAAO,CAACC,GAAG,CAACc,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACT,OAAO,CAAC;IACrDL,SAAS,CAACW,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAACT,OAAO,CAAC;EACrD,CAAC,CAAC,CAACU,KAAK,CAACC,GAAG,IAAI;IAAEpB,OAAO,CAACC,GAAG,CAACmB,GAAG,CAAC;IAAEhB,SAAS,CAACgB,GAAG,CAACF,OAAO,CAAC;EAAC,CAAC,CAAC;AAC/D,CAAC;AAED,SAAShB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}